PR: https://github.com/odoo/odoo/pull/

From: 2966d4faedb2817039ed608dff48acfda418109e
From: XavierDo
Date: 2018-02-26 13:27:26

Structural Changes: 5
Total Changes: 6

[IMP] product: rename product.uom into uom.uom

Also rename product.uom.categ into uom.category to
 give it a decent name.

================================= pseudo patch: =================================

--- a/addons/project/models/analytic.py
+++ b/addons/project/models/analytic.py
@@ -9,7 +9,7 @@ class AccountAnalyticAccount(models.Model):
     _inherit = 'account.analytic.account'
     _description = 'Analytic Account'
 
-    company_uom_id = fields.Many2one('product.uom', related='company_id.project_time_mode_id', string="Company UOM")
+    company_uom_id = fields.Many2one('uom.uom', related='company_id.project_time_mode_id', string="Company UOM")
     project_ids = fields.One2many('project.project', 'analytic_account_id', string='Projects')
     project_count = fields.Integer("Project Count", compute='_compute_project_count')
 

--- a/addons/project/models/res_company.py
+++ b/addons/project/models/res_company.py
@@ -7,7 +7,7 @@ from odoo import fields, models
 class ResCompany(models.Model):
     _inherit = 'res.company'
 
-    project_time_mode_id = fields.Many2one('product.uom', string='Project Time Unit',
+    project_time_mode_id = fields.Many2one('uom.uom', string='Project Time Unit',
         default=lambda s: s.env.ref('uom.product_uom_hour', raise_if_not_found=False),
         help="This will set the unit of measure used in projects and tasks.\n"
              "If you use the timesheet linked to projects, don't "

--- a/addons/project/models/res_config_settings.py
+++ b/addons/project/models/res_config_settings.py
@@ -12,7 +12,7 @@ class ResConfigSettings(models.TransientModel):
     group_subtask_project = fields.Boolean("Sub-tasks", implied_group="project.group_subtask_project")
     group_project_rating = fields.Boolean("Use Rating on Project", implied_group='project.group_project_rating')
     project_time_mode_id = fields.Many2one(
-        'product.uom', related='company_id.project_time_mode_id', string='Project Time Unit',
+        'uom.uom', related='company_id.project_time_mode_id', string='Project Time Unit',
         help="This will set the unit of measure used in projects and tasks.\n"
              "If you use the timesheet linked to projects, don't "
              "forget to setup the right unit of measure in your employees.")
