PR: https://github.com/odoo/odoo/pull/

From: 4fd69455350a16db8c2c3ff0108c53c51888f008
From: Thibault Delavall√©e
Date: 2017-10-19 12:53:39

Structural Changes: 3
Total Changes: 80

[REM] base, various: remove res.request.link

Not used since a while, remaining of old res.request. Requests have been
removed at 881a76dbcf47c877feb5efa14943010309d22eaf . Links have been kept because still
used in some reference fields. It seems the last use was in OpenERP v9.0
in crm_claim module. As links are not used since a while let us get rid of
it.

================================= pseudo patch: =================================

--- a/odoo/addons/base/__manifest__.py
+++ b/odoo/addons/base/__manifest__.py
@@ -51,7 +51,6 @@ The kernel of Odoo, needed for all installation.
         'module/wizard/base_update_translations_view.xml',
         'module/wizard/base_module_immediate_install.xml',
         'res/res_company_view.xml',
-        'res/res_request_view.xml',
         'res/res_lang_view.xml',
         'res/res_partner_view.xml',
         'res/res_bank_view.xml',

--- a/odoo/addons/base/res/__init__.py
+++ b/odoo/addons/base/res/__init__.py
@@ -10,5 +10,4 @@ from . import res_config
 from . import res_currency
 from . import res_company
 from . import res_users
-from . import res_request
 from . import ir_property

--- a/odoo/addons/base/res/res_partner_data.xml
+++ b/odoo/addons/base/res/res_partner_data.xml
@@ -26,15 +26,6 @@
             <field name="shortcut">Prof.</field>
         </record>
 
-        <!--
-        Resource: res.request.link
-        -->
-
-        <record id="req_link_partner" model="res.request.link">
-            <field name="name">Partner</field>
-            <field name="object">res.partner</field>
-        </record>
-
         <record id="res_partner_industry_A" model="res.partner.industry">
             <field name="name">Agriculture</field>
             <field name="full_name">A AGRICULTURE, FORESTRY AND FISHING</field>

--- a/odoo/addons/base/res/res_request.py
+++ b/None
@@ -1,18 +0,0 @@
-# -*- coding: utf-8 -*-
-# Part of Odoo. See LICENSE file for full copyright and licensing details.
-
-from odoo import api, fields, models
-
-
-@api.model
-def referenceable_models(self):
-    return [(link.object, link.name) for link in self.env['res.request.link'].search([])]
-
-
-class ResRequestLink(models.Model):
-    _name = 'res.request.link'
-    _order = 'priority'
-
-    name = fields.Char(required=True, translate=True)
-    object = fields.Char(required=True)
-    priority = fields.Integer(default=5)

--- a/odoo/addons/base/res/res_request_view.xml
+++ b/None
@@ -1,49 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<odoo>
-    <data>
-        <record id="res_request_link-view" model="ir.ui.view">
-            <field name="name">res.request.link.form</field>
-            <field name="model">res.request.link</field>
-            <field name="arch" type="xml">
-                <form string="Request Link">
-                  <sheet>
-                    <group col="4">
-                        <field name="name"/>
-                        <field name="object"/>
-                        <field name="priority"/>
-                    </group>
-                   </sheet>
-                </form>
-            </field>
-        </record>
-        <record id="res_request_link_tree-view" model="ir.ui.view">
-            <field name="name">res.request.link.form</field>
-            <field name="model">res.request.link</field>
-            <field name="arch" type="xml">
-                <tree string="Request Link">
-                    <field name="name"/>
-                    <field name="object"/>
-                </tree>
-            </field>
-        </record>
-        <record id="res_request_link_search_view" model="ir.ui.view">
-            <field name="name">res.request.link.search</field>
-            <field name="model">res.request.link</field>
-            <field name="arch" type="xml">
-                <search string="Request Link">
-                    <field name="name" filter_domain="['|', ('name','ilike',self), ('object','ilike',self)]" string="Subject"/>
-                </search>
-            </field>
-        </record>
-        <record id="res_request_link-act" model="ir.actions.act_window">
-            <field name="name">Referenceable Models</field>
-            <field name="type">ir.actions.act_window</field>
-            <field name="res_model">res.request.link</field>
-            <field name="view_type">form</field>
-            <field name="view_id" eval="False"/>
-            <field name="search_view_id" ref="res_request_link_search_view"/>
-        </record>
-        <menuitem action="res_request_link-act" id="menu_res_request_link_act" parent="base.next_id_9"/>
-
-    </data>
-</odoo>

--- a/odoo/addons/base/security/ir.model.access.csv
+++ b/odoo/addons/base/security/ir.model.access.csv
@@ -63,8 +63,6 @@
 "access_res_partner_industry_group_system","res_partner_industry group_system","model_res_partner_industry","group_system",1,1,1,1
 "access_res_partner_title_group_user","res_partner_title group_user","model_res_partner_title","group_partner_manager",1,1,1,1
 "access_res_partner_title_group_partner_manager","res_partner_title group_partner_manager","model_res_partner_title",,1,0,0,0
-"access_res_request_link_group_system","res_request_link group_system","model_res_request_link","group_system",1,1,1,1
-"access_res_request_link_group_user","res_request_link group_user","model_res_request_link",,1,0,0,0
 "access_res_users_all","res_users all","model_res_users",,1,0,0,0
 "access_res_users_group_erp_manager","res_users group_erp_manager","model_res_users","group_erp_manager",1,1,1,1
 "access_res_users_log_all","res_users_log_all","model_res_users_log",,1,0,1,0
