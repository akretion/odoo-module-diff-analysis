PR: https://github.com/odoo/odoo/pull/114533

From: 9afe7c74c9c59b2a0fa4b1669dcc85da0d2225ee
From: Louis Wicket (wil)
Date: 2023-03-14 14:52:10

Structural Changes: 2
Total Changes: 50

[IMP] *: remove "French spacing" ðŸ‘º

According to Wiktionary, French spacing is "the archaic practice (though
still current in French) of inserting a space around colons, semicolons,
question marks, and exclamation marks". This is not standard practice in
English and most languages of the world.

The purpose of this commit is to start purging the code from this typo,
as it may reflect poorly on the software for some people.

closes odoo/odoo#114533

Related: odoo/enterprise#37853
Signed-off-by: SÃ©bastien Theys (seb) <seb@odoo.com>

================================= pseudo patch: =================================

--- a/odoo/addons/base/models/ir_mail_server.py
+++ b/odoo/addons/base/models/ir_mail_server.py
@@ -244,7 +244,7 @@ class IrMailServer(models.Model):
                 # let UserErrors (messages) bubble up
                 raise e
             except (UnicodeError, idna.core.InvalidCodepoint) as e:
-                raise UserError(_("Invalid server name !\n %s", ustr(e)))
+                raise UserError(_("Invalid server name!\n %s", ustr(e)))
             except (gaierror, timeout) as e:
                 raise UserError(_("No response received. Check server address and port number.\n %s", ustr(e)))
             except smtplib.SMTPServerDisconnected as e:

--- a/odoo/addons/base/models/ir_model.py
+++ b/odoo/addons/base/models/ir_model.py
@@ -582,7 +582,7 @@ class IrModelFields(models.Model):
     def _check_name(self):
         for field in self:
             if field.state == 'manual' and not field.name.startswith('x_'):
-                raise ValidationError(_("Custom fields must have a name that starts with 'x_' !"))
+                raise ValidationError(_("Custom fields must have a name that starts with 'x_'!"))
             try:
                 models.check_pg_name(field.name)
             except ValidationError:

--- a/odoo/addons/base/models/ir_module.py
+++ b/odoo/addons/base/models/ir_module.py
@@ -363,7 +363,7 @@ class Module(models.Model):
 
     def _state_update(self, newstate, states_to_update, level=100):
         if level < 1:
-            raise UserError(_('Recursion error in modules dependencies !'))
+            raise UserError(_('Recursion error in modules dependencies!'))
 
         # whether some modules are installed with demo data
         demo = False
@@ -839,7 +839,7 @@ class Module(models.Model):
     def _check(self):
         for module in self:
             if not module.description_html:
-                _logger.warning('module %s: description is empty !', module.name)
+                _logger.warning('module %s: description is empty!', module.name)
 
     def _get(self, name):
         """ Return the (sudoed) `ir.module.module` record with the given name.

--- a/odoo/addons/base/models/ir_rule.py
+++ b/odoo/addons/base/models/ir_rule.py
@@ -29,7 +29,7 @@ class IrRule(models.Model):
     _sql_constraints = [
         ('no_access_rights',
          'CHECK (perm_read!=False or perm_write!=False or perm_create!=False or perm_unlink!=False)',
-         'Rule must have at least one checked access right !'),
+         'Rule must have at least one checked access right!'),
     ]
 
     @api.model

--- a/odoo/addons/base/models/ir_ui_view.py
+++ b/odoo/addons/base/models/ir_ui_view.py
@@ -2613,7 +2613,7 @@ class Model(models.AbstractModel):
             try:
                 arch = getattr(self, '_get_default_%s_view' % view_type)()
             except AttributeError:
-                raise UserError(_("No default view of type '%s' could be found !", view_type))
+                raise UserError(_("No default view of type '%s' could be found!", view_type))
         return arch, view
 
     @api.model

--- a/odoo/addons/base/models/report_paperformat.py
+++ b/odoo/addons/base/models/report_paperformat.py
@@ -168,7 +168,7 @@ class report_paperformat(models.Model):
     _description = "Paper Format Config"
 
     name = fields.Char('Name', required=True)
-    default = fields.Boolean('Default paper format ?')
+    default = fields.Boolean('Default paper format?')
     format = fields.Selection([(ps['key'], ps['description']) for ps in PAPER_SIZES], 'Paper size', default='A4', help="Select Proper Paper size")
     margin_top = fields.Float('Top Margin (mm)', default=40)
     margin_bottom = fields.Float('Bottom Margin (mm)', default=20)

--- a/odoo/addons/base/models/res_company.py
+++ b/odoo/addons/base/models/res_company.py
@@ -98,7 +98,7 @@ class Company(models.Model):
     layout_background = fields.Selection([('Blank', 'Blank'), ('Geometric', 'Geometric'), ('Custom', 'Custom')], default="Blank", required=True)
     layout_background_image = fields.Binary("Background Image")
     _sql_constraints = [
-        ('name_uniq', 'unique (name)', 'The company name must be unique !')
+        ('name_uniq', 'unique (name)', 'The company name must be unique!')
     ]
 
     def init(self):

--- a/odoo/addons/base/models/res_country.py
+++ b/odoo/addons/base/models/res_country.py
@@ -77,9 +77,9 @@ class Country(models.Model):
 
     _sql_constraints = [
         ('name_uniq', 'unique (name)',
-            'The name of the country must be unique !'),
+            'The name of the country must be unique!'),
         ('code_uniq', 'unique (code)',
-            'The code of the country must be unique !')
+            'The code of the country must be unique!')
     ]
 
     def _name_search(self, name, domain=None, operator='ilike', limit=None, order=None, name_get_uid=None):
@@ -165,7 +165,7 @@ class CountryState(models.Model):
     code = fields.Char(string='State Code', help='The state code.', required=True)
 
     _sql_constraints = [
-        ('name_code_uniq', 'unique(country_id, code)', 'The code of the state must be unique by country !')
+        ('name_code_uniq', 'unique(country_id, code)', 'The code of the state must be unique by country!')
     ]
 
     @api.model

--- a/odoo/addons/base/models/res_currency.py
+++ b/odoo/addons/base/models/res_currency.py
@@ -419,7 +419,7 @@ class CurrencyRate(models.Model):
                         'title': _("Warning for %s", self.currency_id.name),
                         'message': _(
                             "The new rate is quite far from the previous rate.\n"
-                            "Incorrect currency rates may cause critical problems, make sure the rate is correct !"
+                            "Incorrect currency rates may cause critical problems, make sure the rate is correct!"
                         )
                     }
                 }

--- a/odoo/addons/base/models/res_lang.py
+++ b/odoo/addons/base/models/res_lang.py
@@ -60,9 +60,9 @@ class Lang(models.Model):
     flag_image_url = fields.Char(compute=_compute_field_flag_image_url)
 
     _sql_constraints = [
-        ('name_uniq', 'unique(name)', 'The name of the language must be unique !'),
-        ('code_uniq', 'unique(code)', 'The code of the language must be unique !'),
-        ('url_code_uniq', 'unique(url_code)', 'The URL code of the language must be unique !'),
+        ('name_uniq', 'unique(name)', 'The name of the language must be unique!'),
+        ('code_uniq', 'unique(code)', 'The code of the language must be unique!'),
+        ('url_code_uniq', 'unique(url_code)', 'The URL code of the language must be unique!'),
     ]
 
     @api.constrains('active')

--- a/odoo/addons/base/models/res_users.py
+++ b/odoo/addons/base/models/res_users.py
@@ -338,7 +338,7 @@ class Users(models.Model):
                                   compute='_compute_accesses_count', compute_sudo=True)
 
     _sql_constraints = [
-        ('login_key', 'UNIQUE (login)',  'You can not have two users with the same login !')
+        ('login_key', 'UNIQUE (login)', 'You can not have two users with the same login!')
     ]
 
     def init(self):

--- a/odoo/addons/base/tests/test_mail_examples.py
+++ b/odoo/addons/base/tests/test_mail_examples.py
@@ -235,7 +235,7 @@ QUOTE_THUNDERBIRD_1 = u"""<div>On 11/08/2012 05:29 PM,
           <li>9.45 AM: summary</li>
           <li>10 AM: meeting with Fabien to present our app</li>
         </ul></div>
-      <div>Is everything ok for you ?</div>
+      <div>Is everything ok for you?</div>
       <div>
         <p>--<br>
           Administrator</p>
@@ -246,7 +246,7 @@ QUOTE_THUNDERBIRD_1 = u"""<div>On 11/08/2012 05:29 PM,
       </div>
     </blockquote>
     Ok for me. I am replying directly below your mail, using Thunderbird, with a signature.<br><br>
-    Did you receive my email about my new laptop, by the way ?<br><br>
+    Did you receive my email about my new laptop, by the way?<br><br>
     Raoul.<br><pre>-- 
 Raoul Grosbedonn&#233;e
 </pre>"""
@@ -300,7 +300,7 @@ TEXT_1 = u"""I contact you about our meeting tomorrow. Here is the schedule I pr
 9 AM: brainstorming about our new amazing business app
 9.45 AM: summary
 10 AM: meeting with Ignasse to present our app
-Is everything ok for you ?
+Is everything ok for you?
 --
 MySignature"""
 
@@ -308,7 +308,7 @@ TEXT_1_IN = [u"""I contact you about our meeting tomorrow. Here is the schedule
 9 AM: brainstorming about our new amazing business app
 9.45 AM: summary
 10 AM: meeting with Ignasse to present our app
-Is everything ok for you ?"""]
+Is everything ok for you?"""]
 TEXT_1_OUT = [u"""
 --
 MySignature"""]
@@ -358,7 +358,7 @@ TEXT_2_OUT = [u"""
 # MISC
 
 GMAIL_1 = u"""Hello,<div><br></div><div>Ok for me. I am replying directly in gmail, without signature.</div><div><br></div><div>Kind regards,</div><div><br></div><div>Demo.<br><br><div>On Thu, Nov 8, 2012 at 5:29 PM,  <span>&lt;<a href="mailto:dummy@example.com">dummy@example.com</a>&gt;</span> wrote:<br><blockquote><div>I contact you about our meeting for tomorrow. Here is the schedule I propose:</div><div><ul><li>9 AM: brainstorming about our new amazing business app&lt;/span&gt;&lt;/li&gt;</li>
-<li>9.45 AM: summary</li><li>10 AM: meeting with Fabien to present our app</li></ul></div><div>Is everything ok for you ?</div>
+<li>9.45 AM: summary</li><li>10 AM: meeting with Fabien to present our app</li></ul></div><div>Is everything ok for you?</div>
 <div><p>-- <br>Administrator</p></div>
 
 <div><p>Log in our portal at: <a href="http://localhost:8069#action=login&amp;db=mail_1&amp;login=demo">http://localhost:8069#action=login&amp;db=mail_1&amp;login=demo</a></p></div>
@@ -383,7 +383,7 @@ HOTMAIL_1 = u"""<div>
             <br>
             You indicated that you wish to use OpenERP in your own company.
             We would like to know more about your your business needs and requirements, and see how
-            we can help you. When would you be available to discuss your project ?<br>
+            we can help you. When would you be available to discuss your project?<br>
             Best regards,<br>
             <pre>
                 <a href="http://openerp.com" target="_blank">http://openerp.com</a>

--- a/odoo/addons/base/wizard/base_module_upgrade_views.xml
+++ b/odoo/addons/base/wizard/base_module_upgrade_views.xml
@@ -41,7 +41,7 @@
             <field name="priority" eval="20"/>
             <field name="arch" type="xml">
                 <form string="Apply Schedule Upgrade">
-                    <div><span class="o_form_label">The selected modules have been updated / installed !</span></div>
+                    <div><span class="o_form_label">The selected modules have been updated/installed!</span></div>
                     <div><span class="o_form_label">We suggest to reload the menu tab to see the new menus (Ctrl+T then Ctrl+R)."</span></div>
                     <footer>
                         <button name="config" string="Start configuration" type="object" class="btn-primary" data-hotkey="q"/>

--- a/odoo/addons/base/wizard/base_partner_merge_views.xml
+++ b/odoo/addons/base/wizard/base_partner_merge_views.xml
@@ -88,12 +88,12 @@
                         <button name='action_start_automatic_process'
                             string='Merge Automatically' data-hotkey="l"
                             type='object' class='oe_highlight'
-                            confirm="Are you sure to execute the automatic merge of your contacts ?"
+                            confirm="Are you sure to execute the automatic merge of your contacts?"
                             attrs="{'invisible': [('state', '!=', 'option')]}" />
                         <button name='action_update_all_process'
                             string='Merge Automatically all process'
                             type='object' data-hotkey="y"
-                            confirm="Are you sure to execute the list of automatic merges of your contacts ?"
+                            confirm="Are you sure to execute the list of automatic merges of your contacts?"
                             attrs="{'invisible': [('state', '!=', 'option')]}" />
                         <button special="cancel" data-hotkey="z" string="Cancel" type="object" class="btn btn-secondary oe_inline" attrs="{'invisible': [('state', '=', 'finished')]}"/>
                         <button special="cancel" data-hotkey="z" string="Close" type="object" class="btn btn-secondary oe_inline" attrs="{'invisible': [('state', '!=', 'finished')]}"/>
